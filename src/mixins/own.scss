$base-font-size: 16 !default;
@mixin font-dpr($font-size) {
    font-size: $font-size; //字号大小统一方法
    // [data-dpr="2"] & {
    //     font-size: $font-size * 2;
    // }
    // [data-dpr="3"] & {
    //     font-size: $font-size * 3;
    // }
}

@function strip-units($number) {
    @return $number / ($number * 0 + 1);
}

@function pxTorem($target-size, $context:$base-font-size) {
    @if not unitless($target-size) {
        $target-size: strip-units($target-size);
    }
    @if not unitless($context) {
        $context: strip-units($context);
    }
    @return ($target-size / $context) * 1rem;
}

@mixin remCalc($props, $sizes, $base:$base-font-size) {
    $values: ();
    $sublists: false;
    @each $s in $sizes {
        //循环列表中多个属性值，例如text-shadow属性 
        @if type-of($s)==list {
            $sublists: true;
            $vv: ();
            @each $ss in $s {
                $vv: append($vv, if(type-of($ss)==number, #{$ss / $base}rem, $ss));
            }
            $values: append($values, join((), $vv));
        }
        @else {
            // $values: append($values, if(type-of($s)==number, #{$s / $base}rem, $s));  //px转为rem等都可以在这里处理
            $values: append($values, if(type-of($s)==number, #{$s}rem, $s));    
        }
    }
    $value: join((), $values, if($sublists, comma, space));
    @each $prop in $props {
        #{$prop}: $value
    }
}

//SCSS .header { font-size: pxToem(12); h1 { font-size: pxToem(12,24); } } .footer { margin: pxToem(12px); h1 { margin: pxToem(12px,24px); } } 
//CSS .header { font-size: 0.75em; } .header h1 { font-size: 0.5em; } .footer { margin: 0.75em; } .footer h1 { margin: 0.5em; }
//SCSS .header { @include emCalc(line-height, 30, 16); @include emCalc(width height, 125); @include emCalc(padding, 0 25, 16); @include emCalc(text-shadow, (#0d6e28 1 1) (#777 0 0 2), 16); @include emCalc(box-shadow, (inset 0 0 0 1 #2a9022) (inset 0 0 3 #459966), 16); } 
//CSS .header { line-height: 1.875em; width: 7.8125em; height: 7.8125em; padding: 0em 1.5625em; text-shadow: #0d6e28 0.0625em 0.0625em, #777777 0em 0em 0.125em; box-shadow: inset 0em 0em 0em 0.0625em #2a9022, inset 0em 0em 0.1875em #459966; }
